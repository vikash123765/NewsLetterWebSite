@model SendMessageViewModel

<div class="container mt-4">
    <h2 class="mb-4">Send Message</h2>

    <form asp-action="Send" method="post" id="sendMessageForm" class="card p-4 shadow-sm">
        <div class="mb-3">
            <label for="ReceiverId" class="form-label">Receiver:</label>
            <select asp-for="ReceiverId" asp-items="ViewBag.Users" class="form-select" required>
                <option value="">-- Select User --</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="Content" class="form-label">Message:</label>
            <textarea asp-for="Content" class="form-control" rows="4" required></textarea>
        </div>

        <button type="submit" id="sendMessageButton" class="btn btn-primary">
            <i class="bi bi-send"></i> Send
        </button>
    </form>
</div>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log("✅ Send message page loaded");

        let sendButton = document.getElementById("sendMessageButton");
        if (sendButton) {
            sendButton.addEventListener("click", function () {
                console.log("📩 Send button clicked!");
            });
        }

        let form = document.getElementById("sendMessageForm");
        if (form) {
            form.addEventListener("submit", function (event) {
                console.log("🚀 Form submitted!");
                console.log("📌 ReceiverId:", document.querySelector("[name='ReceiverId']").value);
                console.log("📝 Message Content:", document.querySelector("[name='Content']").value);
            });
        }
    });
</script>
